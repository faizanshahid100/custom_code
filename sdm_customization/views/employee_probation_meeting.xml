<odoo>
    <record id="view_employee_probation_meeting_tree" model="ir.ui.view">
        <field name="name">employee.probation.meeting.tree</field>
        <field name="model">employee.probation.meeting</field>
        <field name="arch" type="xml">
            <tree string="Employee Probation Meetings">
                <field name="employee_id"/>
                <field name="department_id"/>
                <field name="date_meeting"/>
                <field name="probation_time"/>
                <field name="meeting_status" widget="badge"
                       decoration-danger="meeting_status == 'red'"
                       decoration-warning="meeting_status == 'yellow'"
                       decoration-success="meeting_status == 'green'"/>
                <field name="department_master_ids" widget="many2many_tags"/>
                <field name="state" widget="badge"
                       decoration-danger="state == 'inprogress'"
                       decoration-success="state == 'completed'"/>
            </tree>
        </field>
    </record>

    <record id="view_employee_probation_meeting_form" model="ir.ui.view">
        <field name="name">employee.probation.meeting.form</field>
        <field name="model">employee.probation.meeting</field>
        <field name="arch" type="xml">
            <form string="Employee Probation Meeting">
                <header>
                    <field name="state" widget="statusbar" statusbar_visible="inprogress,completed"/>
                    <button name="action_resolve" type="object" string="Resolved"
                            class="oe_highlight"
                            groups="sdm_customization.group_sdm"
                            attrs="{'invisible': [('state', '=', 'completed')]}"/>
                    <!--                    <button name="action_set_inprogress" type="object" string="Set In Progress"-->
                    <!--                            class="btn-secondary"-->
                    <!--                            groups="sdm_customization.group_sdm"-->
                    <!--                            attrs="{'invisible': [('state', '=', 'inprogress')]}"/>-->
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="employee_id"/>
                            <field name="department_id" invisible="1"/>
                            <field name="employee_joining_date"/>
                            <field name="employee_probation_end_date"/>
                            <field name="employee_pulse_id" readonly="1" force_save="1"/>
                        </group>
                        <group>
                            <field name="date_meeting"/>
                            <field name="probation_type" invisible="1"/>
                            <field name="probation_time"/>
                            <field name="department_master_ids" widget="many2many_tags"
                                   options="{'no_create': True, 'no_edit': True}"/>
                            <field name="meeting_status"/>
                            <field name="reason"/>
                        </group>
                    </group>

                    <notebook>
                        <page string="Meeting Questions">
                            <!--                            Pre Probation-->
                            <!--                            <group attrs="{'invisible': [('probation_type', '!=', 'pre')]}">-->
                            <group invisible="1">
                                <group>
                                    <!--                                    Pre-Probation Question-->
                                    <field name="q1_rating" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q1_experience" placeholder="Explain your answer..."/>
                                    <field name="q2_rating" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q2_alignment" placeholder="Explain your answer..."/>
                                    <field name="q3_rating" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q3_attendance_kpi" placeholder="Explain your answer..."/>
                                    <field name="q4_rating" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q4_guidance" placeholder="Explain your answer..."/>
                                </group>
                                <group>
                                    <!--                                    Pre-Probation Question-->
                                    <field name="q5_rating" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q5_hubstaff" placeholder="Explain your answer..."/>
                                    <field name="q6_rating" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q6_challenges" placeholder="Explain your answer..."/>
                                    <field name="q7_rating" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q7_daily_tasks" placeholder="Explain your answer..."/>
                                    <field name="is_audit" groups="sdm_customization.group_sdm"/>
                                </group>
                            </group>
                            <!--                            Post Probation-->
                            <!--                            <group attrs="{'invisible': [('probation_type', '!=', 'post')]}">-->
                            <group invisible="1">
                                <group>
                                    <!--                                    Post-Probation Question-->
                                    <field name="q1_rating_post" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q1_experience_post" placeholder="Explain your answer..."/>
                                    <field name="q2_rating_post" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q2_experience_post" placeholder="Explain your answer..."/>
                                    <field name="q3_rating_post" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q3_experience_post" placeholder="Explain your answer..."/>
                                </group>
                                <group>
                                    <!--                                    Post-Probation Question-->
                                    <field name="q4_rating_post" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q4_experience_post" placeholder="Explain your answer..."/>
                                    <field name="q5_rating_post" widget="radio" options="{'horizontal': true}"/>
                                    <field name="q5_experience_post" placeholder="Explain your answer..."/>
                                </group>
                            </group>

                            <!--                            Month 0-1-->
                            <group attrs="{'invisible': [('probation_time', '!=', '0_1')]}">
                                <group string="1. Overall Experience">
                                    <field name="overall_experience" widget="text"/>
                                </group>

                                <group string="2. Challenges &amp; Obstacles">
                                    <field name="challenges_obstacles" widget="text"/>
                                </group>
                            </group>

                            <group attrs="{'invisible': [('probation_time', '!=', '0_1')]}">
                                <group string="3. Support from Client &amp; Prime">
                                    <field name="support_feedback" widget="text"/>
                                </group>

                                <group string="4. Motivation &amp; Engagement">
                                    <field name="motivation_engagement" widget="text"/>
                                </group>
                            </group>

                            <group attrs="{'invisible': [('probation_time', '!=', '0_1')]}">
                                <group string="5. Concerns &amp; Suggestions">
                                    <field name="concerns_suggestions" widget="text"/>
                                </group>
                            </group>
                            <!--                            Month 1-3-->
                            <group attrs="{'invisible': [('probation_time', '!=', '1_3')]}">
                                <group string="1. Settling In &amp; Adjustment" name="settling_in_adjustment">
                                    <field name="settling_with_team"/>
                                    <field name="time_zone_schedule"/>
                                    <field name="fatigue_sustainability_concerns"/>
                                </group>
                                <group string="4. Manager Connection" name="manager_connection">
                                    <field name="regular_scheduled_manager"/>
                                    <field name="comfortable_raising_concerns"/>
                                </group>
                            </group>
                            <group attrs="{'invisible': [('probation_time', '!=', '1_3')]}">
                                <group string="2. Tools &amp; Equipment" name="tools_equipment">
                                    <field name="equipment_system_access"/>
                                    <field name="technical_setup_issues"/>
                                </group>
                                <group string="5. Early Support Needs" name="tools_equipment">
                                    <field name="team_help_needed"/>
                                </group>
                            </group>
                            <group attrs="{'invisible': [('probation_time', '!=', '1_3')]}">
                                <group string="3. Role Clarity" name="role_clarity">
                                    <group string="Do you feel clear on:" name="feel_clear">
                                        <field name="priorities_expectations"/>
                                        <field name="technical_setup_issues"/>
                                    </group>
                                    <field name="gray_areas_assumptions"/>
                                </group>
                            </group>

                            <!--                            Months 3â€“6-->
                            <group attrs="{'invisible': [('probation_time', '!=', '3_6')]}">
                                <group string="1. Self-Assessment" name="self_assessment">
                                    <field name="personally_gauge_performance"/>
                                    <field name="fell_really_well"/>
                                    <field name="you_could_improve"/>
                                </group>
                                <group string="4. Growth &amp; Capability" name="growth_capability">
                                    <field name="challenged_enough"/>
                                    <field name="skills_exposure_want"/>
                                </group>
                            </group>
                            <group attrs="{'invisible': [('probation_time', '!=', '3_6')]}">
                                <group string="2. Client Feedback Transparency" name="client_feedback_transparency">
                                    <field name="set_expectations"/>
                                </group>
                                <group string="5. Engagement &amp; Motivation" name="engagement_motivation">
                                    <field name="motivated_in_role"/>
                                    <field name="morale_confidence"/>
                                </group>
                            </group>
                            <group attrs="{'invisible': [('probation_time', '!=', '3_6')]}">
                                <group string="3. Manager Alignment" name="manager_alignment">
                                    <field name="feedback_received"/>
                                    <field name="expectations_consistent_clear"/>
                                    <field name="surprises_misalignments"/>
                                </group>
                            </group>

                            <!--                            Month 6-Onwards-->
                            <group attrs="{'invisible': [('probation_time', '!=', '6_onwards')]}">
                                <group string="1. Contribution &amp; Impact" name="contribution_impact">
                                    <field name="proud_contributions"/>
                                    <field name="adding_values"/>
                                </group>
                                <group string="4. Career &amp; Progression" name="career_progression">
                                    <field name="role_evolving"/>
                                    <field name="interest_in"/>
                                </group>
                            </group>
                            <group attrs="{'invisible': [('probation_time', '!=', '6_onwards')]}">
                                <group string="2. Value Add Beyond the Role" name="value_add_beyond_role">
                                    <field name="improvements_ideas_initiatives"/>
                                    <field name="make_an_impact"/>
                                </group>
                                <group string="5. Long-Term Alignment" name="long_term_alignment">
                                    <field name="what_success_look_like"/>
                                </group>
                            </group>
                            <group attrs="{'invisible': [('probation_time', '!=', '6_onwards')]}">
                                <group string="3. Recognition &amp; Shout-Outs" name="recognition_shout_outs">
                                    <field name="wins_shout_outs_by_client"/>
                                    <field name="acknowledge_document_successes"/>
                                </group>
                            </group>

                            <group>
                                <field name="comment"/>
                            </group>
                        </page>

                        <page string="Task Assignments">
                            <field name="task_assign_line_ids">
                                <tree editable="bottom">
                                    <field name="reason"/>
                                    <field name="to_employee_ids" widget="many2many_tags"
                                           groups="sdm_customization.group_sdm"/>
                                    <field name="cc_employee_ids" widget="many2many_tags"
                                           groups="sdm_customization.group_sdm"/>
                                    <field name="priority" widget="priority"/>
                                    <field name="assign_date"/>
                                    <field name="action_taken_comment"/>
                                    <field name="employee_task_confirmed" widget="boolean_toggle"/>
                                    <field name="sdm_task_confirmed" widget="boolean_toggle"
                                           groups="sdm_customization.group_sdm"/>
                                    <button name="action_send_action_mail"
                                            string="Send Action Mail"
                                            type="object"
                                            class="btn-primary"/>
                                    <field name="confirmed_date"/>
                                </tree>
                            </field>
                            <button name="action_send_reason_mail" type="object" string="Send Reason Mail"
                                    class="btn-primary" icon="fa-envelope" groups="sdm_customization.group_sdm"/>
                            <br/>
                            <field name="is_mail_sent" widget="boolean_toggle" invisible="1"/>
                        </page>

                        <!--                        <page string="Send Reason Email">-->
                        <!--                            <group>-->
                        <!--                                <field name="reason"/>-->
                        <!--                                <field name="assignee_id"/>-->
                        <!--                                <field name="selected_employee_ids" widget="many2many_tags"/>-->
                        <!--                            </group>-->
                        <!--                        </page>-->

                        <!--                        <page string="Action Taken" attrs="{'invisible': [('is_mail_sent', '=', False)]}">-->
                        <!--                            <group>-->
                        <!--                                <field name="action_taken_comment"/>-->
                        <!--                                <field name="action_employee_ids" widget="many2many_tags"/>-->
                        <!--                                <button name="action_send_action_mail" type="object" string="Send Action Mail"-->
                        <!--                                        class="btn-primary" icon="fa-paper-plane"/>-->
                        <!--                                <br/>-->
                        <!--                                <field name="is_action_mail_sent" widget="boolean_toggle" invisible="1"/>-->
                        <!--                            </group>-->
                        <!--                        </page>-->
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" groups="base.group_user"
                           options="{'post_refresh': 'recipients'}"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <record id="view_employee_probation_meeting_search" model="ir.ui.view">
        <field name="name">employee.probation.meeting.search</field>
        <field name="model">employee.probation.meeting</field>
        <field name="arch" type="xml">
            <search string="Search Probation Meetings">
                <field name="employee_id"/>
                <field name="department_id"/>
                <field name="probation_time"/>
                <field name="meeting_status"/>
                <field name="state"/>
                <field name="date_meeting"/>

                <filter string="In Progress" name="filter_inprogress" domain="[('state','=','inprogress')]"/>
                <filter string="Completed" name="filter_completed" domain="[('state','=','completed')]"/>
                <filter string="Red Status" name="filter_red" domain="[('meeting_status','=','red')]"/>
                <filter string="Yellow Status" name="filter_yellow" domain="[('meeting_status','=','yellow')]"/>
                <filter string="Green Status" name="filter_green" domain="[('meeting_status','=','green')]"/>

                <separator/>

                <group expand="0" string="Group By">
                    <filter string="Employee" name="group_by_employee" context="{'group_by':'employee_id'}"/>
                    <filter string="Department" name="group_by_department" context="{'group_by':'department_id'}"/>
                    <!--                    <filter string="Probation Type" name="group_by_probation_type"-->
                    <!--                            context="{'group_by':'probation_type'}"/>-->
                    <filter string="Probation Time" name="group_by_probation_time"
                            context="{'group_by':'probation_time'}"/>
                    <filter string="Status" name="group_by_task_status"
                            context="{'group_by':'state'}"/>
                    <filter string="Employee Status" name="group_by_meeting_status"
                            context="{'group_by':'meeting_status'}"/>
                    <!-- group by month (uses date_meeting:month) -->
                    <filter string="Meeting Month" name="group_by_meeting_month"
                            context="{'group_by':'date_meeting:month'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="action_employee_probation_meeting" model="ir.actions.act_window">
        <field name="name">Employee Probation Meetings</field>
        <field name="res_model">employee.probation.meeting</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>
